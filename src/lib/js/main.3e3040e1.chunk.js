(this.webpackJsonppcui=this.webpackJsonppcui||[]).push([[0],[function(e,t,i){e.exports=i(2)},function(e,t,i){},function(e,t,i){"use strict";i.r(t),i.d(t,"Element",(function(){return g})),i.d(t,"SelectInput",(function(){return L})),i.d(t,"BooleanInput",(function(){return V})),i.d(t,"SliderInput",(function(){return A})),i.d(t,"Container",(function(){return w})),i.d(t,"Panel",(function(){return F})),i.d(t,"Label",(function(){return T})),i.d(t,"Button",(function(){return I}));i(1);function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?l(e):t}function d(e){return function(){var t,i=a(e);if(h()){var n=a(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return r(this,t)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function v(){Object.defineProperty(this,"_events",{enumerable:!1,configurable:!1,writable:!0,value:{}}),this._suspendEvents=!1,Object.defineProperty(this,"suspendEvents",{get:function(){return this._suspendEvents},set:function(e){this._suspendEvents=!!e}})}function p(e,t,i){this.owner=e,this.name=t,this.fn=i}v.prototype.on=function(e,t){var i=this._events[e];return void 0===i?this._events[e]=[t]:-1==i.indexOf(t)&&i.push(t),new p(this,e,t)},v.prototype.once=function(e,t){var i=this,n=this.on(e,(function(e,s,o,l,a,h,u,r){t.call(i,e,s,o,l,a,h,u,r),n.unbind()}));return n},v.prototype.emit=function(e,t,i,n,s,o,l,a,h){if(!this._suspendEvents){var u=this._events[e];if(!u)return this;u=u.slice(0);for(var r=0;r<u.length;r++)if(u[r])try{u[r].call(this,t,i,n,s,o,l,a,h)}catch(d){console.info("%c%s %c(event error)","color: #06f",e,"color: #f00"),console.log(d.stack)}return this}},v.prototype.unbind=function(e,t){if(e){var i=this._events[e];if(!i)return this;if(t){var n=i.indexOf(t);-1!==n&&(1===i.length?delete this._events[e]:i.splice(n,1))}else delete this._events[e]}else this._events={};return this},p.prototype.unbind=function(){this.owner&&(this.owner.unbind(this.name,this.fn),this.owner=null,this.name=null,this.fn=null)},p.prototype.call=function(){this.fn&&this.fn.call(this.owner,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7])},p.prototype.on=function(e,t){return this.owner.on(e,t)};var m=["flexDirection","flexGrow","flexBasis","flexShrink","flexWrap","alignItems","alignSelf","justifyContent","justifySelf"];var f={},g=function(e){_(i,e);var t=d(i);function i(e,s){var o;if(n(this,i),s||(s={}),(o=t.call(this))._destroyed=!1,o._parent=null,o._domEventClick=o._onClick.bind(l(o)),o._domEventMouseOver=o._onMouseOver.bind(l(o)),o._domEventMouseOut=o._onMouseOut.bind(l(o)),o._eventsParent=[],o._dom=e||document.createElement("div"),void 0!==s.id&&(o._dom.id=s.id),o._dom.ui=l(o),o._dom.addEventListener("click",o._domEventClick),o._dom.addEventListener("mouseover",o._domEventMouseOver),o._dom.addEventListener("mouseout",o._domEventMouseOut),o._dom.classList.add("pcui-element"),s.class)if(Array.isArray(s.class))for(var a=0;a<s.class.length;a++)o._dom.classList.add(s.class[a]);else o._dom.classList.add(s.class);for(var h in o.enabled=void 0===s.enabled||s.enabled,o._hiddenParents=!s.isRoot,o.hidden=s.hidden||!1,o.readOnly=s.readOnly||!1,o.ignoreParent=s.ignoreParent||!1,void 0!==s.width&&(o.width=s.width),void 0!==s.height&&(o.height=s.height),void 0!==s.tabIndex&&(o.tabIndex=s.tabIndex),s)void 0!==s[h]&&-1!==m.indexOf(h)&&(o[h]=s[h]);return s.binding&&(o.binding=s.binding),o._flashTimeout=null,o}return o(i,[{key:"link",value:function(e,t){this._binding.link(e,t)}},{key:"unlink",value:function(){this._binding&&this._binding.unlink()}},{key:"flash",value:function(){this._flashTimeout||(this.classAdd("flash"),this._flashTimeout=setTimeout(function(){this._flashTimeout=null,this.classRemove("flash")}.bind(this),200))}},{key:"_onClick",value:function(e){this.enabled&&this.emit("click",e)}},{key:"_onMouseOver",value:function(e){this.emit("hover",e)}},{key:"_onMouseOut",value:function(e){this.emit("hoverend",e)}},{key:"_onHiddenToRootChange",value:function(e){e?this.emit("hideToRoot"):this.emit("showToRoot")}},{key:"_onEnabledChange",value:function(e){e?this.classRemove("pcui-disabled"):this.classAdd("pcui-disabled"),this.emit(e?"enable":"disable")}},{key:"_onParentDestroy",value:function(){this.destroy()}},{key:"_onParentDisable",value:function(){this._ignoreParent||this._enabled&&this._onEnabledChange(!1)}},{key:"_onParentEnable",value:function(){this._ignoreParent||this._enabled&&this._onEnabledChange(!0)}},{key:"_onParentShowToRoot",value:function(){var e=this.hiddenToRoot;this._hiddenParents=!1,e!==this.hiddenToRoot&&this._onHiddenToRootChange(this.hiddenToRoot)}},{key:"_onParentHideToRoot",value:function(){var e=this.hiddenToRoot;this._hiddenParents=!0,e!==this.hiddenToRoot&&this._onHiddenToRootChange(this.hiddenToRoot)}},{key:"_onReadOnlyChange",value:function(e){e?this.classAdd("pcui-readonly"):this.classRemove("pcui-readonly"),this.emit("readOnly",e)}},{key:"_onParentReadOnlyChange",value:function(e){this._ignoreParent||(e?this._readOnly||this._onReadOnlyChange(!0):this._readOnly||this._onReadOnlyChange(!1))}},{key:"classAdd",value:function(e){var t=this._dom.classList;t.contains(e)||t.add(e)}},{key:"classRemove",value:function(e){var t=this._dom.classList;t.contains(e)&&t.remove(e)}},{key:"destroy",value:function(){if(!this._destroyed){if(this._destroyed=!0,this.binding?this.binding=null:this.unlink(),this.parent){for(var e=this.parent,t=0;t<this._eventsParent.length;t++)this._eventsParent[t].unbind();this._eventsParent.length=0,e.remove&&!e._destroyed&&e.remove(this),this._parent=null,this._dom&&this._dom.parentElement&&this._dom.parentElement.removeChild(this._dom)}var i=this._dom;i&&(i.removeEventListener("click",this._domEventClick),i.removeEventListener("mouseover",this._domEventMouseOver),i.removeEventListener("mouseout",this._domEventMouseOut),delete i.ui,this._dom=null),this._domEventClick=null,this._domEventMouseOver=null,this._domEventMouseOut=null,this._flashTimeout&&clearTimeout(this._flashTimeout),this.emit("destroy",i,this),this.unbind()}}},{key:"enabled",get:function(){return this._ignoreParent?this._enabled:this._enabled&&(!this._parent||this._parent.enabled)},set:function(e){if(this._enabled!==e){var t=this.enabled;this._enabled=e,t!==e&&this._onEnabledChange(e)}}},{key:"ignoreParent",get:function(){return this._ignoreParent},set:function(e){this._ignoreParent=e,this._onEnabledChange(this.enabled),this._onReadOnlyChange(this.readOnly)}},{key:"dom",get:function(){return this._dom}},{key:"parent",get:function(){return this._parent},set:function(e){if(e!==this._parent){var t=this.enabled,i=this.readOnly,n=this.hiddenToRoot;if(this._parent){for(var s=0;s<this._eventsParent.length;s++)this._eventsParent[s].unbind();this._eventsParent.length=0}this._parent=e,this._parent?(this._eventsParent.push(this._parent.once("destroy",this._onParentDestroy.bind(this))),this._eventsParent.push(this._parent.on("disable",this._onParentDisable.bind(this))),this._eventsParent.push(this._parent.on("enable",this._onParentEnable.bind(this))),this._eventsParent.push(this._parent.on("readOnly",this._onParentReadOnlyChange.bind(this))),this._eventsParent.push(this._parent.on("showToRoot",this._onParentShowToRoot.bind(this))),this._eventsParent.push(this._parent.on("hideToRoot",this._onParentHideToRoot.bind(this))),this._hiddenParents=this._parent.hiddenToRoot):this._hiddenParents=!0,this.emit("parent",this._parent);var o=this.enabled;o!==t&&this._onEnabledChange(o);var l=this.readOnly;l!==i&&this._onReadOnlyChange(l);var a=this.hiddenToRoot;a!==n&&this._onHiddenToRootChange(a)}}},{key:"hidden",get:function(){return this._hidden},set:function(e){if(e!==this._hidden){var t=this.hiddenToRoot;this._hidden=e,e?this.classAdd("pcui-hidden"):this.classRemove("pcui-hidden"),this.emit(e?"hide":"show"),this.hiddenToRoot!==t&&this._onHiddenToRootChange(this.hiddenToRoot)}}},{key:"hiddenToRoot",get:function(){return this._hidden||this._hiddenParents}},{key:"readOnly",get:function(){return this._ignoreParent?this._readOnly:this._readOnly||!(!this._parent||!this._parent.readOnly)},set:function(e){this._readOnly!==e&&(this._readOnly=e,this._onReadOnlyChange(e))}},{key:"error",get:function(){return this._hasError},set:function(e){this._hasError!==e&&(this._hasError=e,e?this.classAdd("pcui-error"):this.classRemove("pcui-error"))}},{key:"style",get:function(){return this._dom.style}},{key:"class",get:function(){return this._dom.classList}},{key:"width",get:function(){return this._dom.clientWidth},set:function(e){"number"===typeof e&&(e+="px"),this.style.width=e}},{key:"height",get:function(){return this._dom.clientHeight},set:function(e){"number"===typeof e&&(e+="px"),this.style.height=e}},{key:"tabIndex",get:function(){return this._dom.tabIndex},set:function(e){this._dom.tabIndex=e}},{key:"binding",get:function(){return this._binding},set:function(e){var t,i;this._binding!==e&&(this._binding&&(t=this._binding.observers,i=this._binding.paths,this.unlink(),this._binding.element=null,this._binding=null),this._binding=e,this._binding&&(this._binding.element=this,t&&i&&this.link(t,i)))}},{key:"destroyed",get:function(){return this._destroyed}},{key:"disabled",get:function(){return!this.enabled},set:function(e){this.enabled=!e}},{key:"element",get:function(){return this.dom},set:function(e){this.dom=e}},{key:"innerElement",get:function(){return this.domContent},set:function(e){this.domContent=e}}],[{key:"register",value:function(e,t,i){f[e]={cls:t,defaultArguments:i}}},{key:"unregister",value:function(e){delete f[e]}},{key:"create",value:function(e,t){var i=f[e];if(i){var n=i.cls,s={};return i.defaultArguments&&Object.assign(s,i.defaultArguments),t&&Object.assign(s,t),new n(s)}console.error("Invalid type passed to pcui.Element#create",e)}}]),i}(v);m.forEach((function(e){Object.defineProperty(g.prototype,e,{get:function(){return this.style[e]},set:function(t){this.style[e]=t}})}));var y=g;function b(e,t,i){return(b="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(i):s.value}})(e,t,i||e)}var k=[null,"top","right","bottom","left"],E="pcui-container-dragged",w=function(e){_(i,e);var t=d(i);function i(e){var s;n(this,i),e||(e={});var o=e.dom||document.createElement("div");(s=t.call(this,o,e)).class.add("pcui-container"),s._domEventScroll=s._onScroll.bind(l(s)),s.domContent=s._dom,s.scrollable=void 0!==e.scrollable&&e.scrollable,s.flex=!!e.flex;var a=!!e.grid;return a&&s.flex&&(console.error('Invalid pcui.Container arguments: "grid" and "flex" cannot both be true.'),a=!1),s.grid=a,s._domResizeHandle=null,s._domEventResizeStart=s._onResizeStart.bind(l(s)),s._domEventResizeMove=s._onResizeMove.bind(l(s)),s._domEventResizeEnd=s._onResizeEnd.bind(l(s)),s._domEventResizeTouchStart=s._onResizeTouchStart.bind(l(s)),s._domEventResizeTouchMove=s._onResizeTouchMove.bind(l(s)),s._domEventResizeTouchEnd=s._onResizeTouchEnd.bind(l(s)),s._resizeTouchId=null,s._resizeData=null,s._resizeHorizontally=!0,s.resizable=e.resizable||null,s._resizeMin=100,s._resizeMax=300,void 0!==e.resizeMin&&(s.resizeMin=e.resizeMin),void 0!==e.resizeMax&&(s.resizeMax=e.resizeMax),s._draggedStartIndex=-1,s}return o(i,[{key:"append",value:function(e){var t=this._getDomFromElement(e);this._domContent.appendChild(t),this._onAppendChild(e)}},{key:"appendBefore",value:function(e,t){var i=this._getDomFromElement(e);this._domContent.appendChild(i);var n=t&&this._getDomFromElement(t);this._domContent.insertBefore(i,n),this._onAppendChild(e)}},{key:"appendAfter",value:function(e,t){var i=this._getDomFromElement(e),n=t&&this._getDomFromElement(t),s=n?n.nextSibling:null;s?this._domContent.insertBefore(i,s):this._domContent.appendChild(i),this._onAppendChild(e)}},{key:"prepend",value:function(e){var t=this._getDomFromElement(e),i=this._domContent.firstChild;i?this._domContent.insertBefore(t,i):this._domContent.appendChild(t),this._onAppendChild(e)}},{key:"remove",value:function(e){if(e.parent===this){var t=this._getDomFromElement(e);this._domContent.removeChild(t),this._onRemoveChild(e)}}},{key:"move",value:function(e,t){for(var i=-1,n=0;n<this.dom.childNodes.length;n++)if(this.dom.childNodes[n].ui===e){i=n;break}-1===i?this.appendBefore(e,this.dom.childNodes[t]):t!==i&&(this.remove(e),t<i?this.appendBefore(e,this.dom.childNodes[t]):this.appendAfter(e,this.dom.childNodes[t-1]))}},{key:"clear",value:function(){for(var e=this._domContent.childNodes.length;e--;){var t=this._domContent.childNodes[e];t.ui&&t.ui.destroy()}this._domContent.innerHTML=""}},{key:"_getDomFromElement",value:function(e){return e.dom?e.dom:e.element?e.element:e}},{key:"_onAppendChild",value:function(e){e.parent=this,this.emit("append",e)}},{key:"_onRemoveChild",value:function(e){e.parent=null,this.emit("remove",e)}},{key:"_onScroll",value:function(e){this.emit("scroll",e)}},{key:"_createResizeHandle",value:function(){var e=document.createElement("div");e.classList.add("pcui-resizable-handle"),e.ui=this,e.addEventListener("mousedown",this._domEventResizeStart),e.addEventListener("touchstart",this._domEventResizeTouchStart,{passive:!1}),this._domResizeHandle=e}},{key:"_onResizeStart",value:function(e){e.preventDefault(),e.stopPropagation(),window.addEventListener("mousemove",this._domEventResizeMove),window.addEventListener("mouseup",this._domEventResizeEnd),this._resizeStart()}},{key:"_onResizeMove",value:function(e){e.preventDefault(),e.stopPropagation(),this._resizeMove(e.clientX,e.clientY)}},{key:"_onResizeEnd",value:function(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("mousemove",this._domEventResizeMove),window.removeEventListener("mouseup",this._domEventResizeEnd),this._resizeEnd()}},{key:"_onResizeTouchStart",value:function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<e.changedTouches.length;t++){var i=e.changedTouches[t];i.target===this._domResizeHandle&&(this._resizeTouchId=i.identifier)}window.addEventListener("touchmove",this._domEventResizeTouchMove),window.addEventListener("touchend",this._domEventResizeTouchEnd),this._resizeStart()}},{key:"_onResizeTouchMove",value:function(e){for(var t=0;t<e.changedTouches.length;t++){var i=e.changedTouches[t];if(i.identifier===this._resizeTouchId){e.stopPropagation(),e.preventDefault(),this._resizeMove(i.clientX,i.clientY);break}}}},{key:"_onResizeTouchEnd",value:function(e){for(var t=0;t<e.changedTouches.length;t++){if(e.changedTouches[t].identifier!==this._resizeTouchId){this._resizeTouchId=null,e.preventDefault(),e.stopPropagation(),window.removeEventListener("touchmove",this._domEventResizeTouchMove),window.removeEventListener("touchend",this._domEventResizeTouchEnd),this._resizeEnd();break}}}},{key:"_resizeStart",value:function(){this.class.add("pcui-resizable-resizing")}},{key:"_resizeMove",value:function(e,t){if(this._resizeData){if(this._resizeHorizontally){var i=this._resizeData.x-e;"right"===this._resizable&&(i=-i),this.width=4+Math.max(this._resizeMin,Math.min(this._resizeMax,this._resizeData.width+i))}else{var n=this._resizeData.y-t;"bottom"===this._resizable&&(n=-n),this.height=Math.max(this._resizeMin,Math.min(this._resizeMax,this._resizeData.height+n))}this.emit("resize")}else this._resizeData={x:e,y:t,width:this.dom.clientWidth,height:this.dom.clientHeight}}},{key:"_resizeEnd",value:function(){this._resizeData=null,this.class.remove("pcui-resizable-resizing")}},{key:"resize",value:function(e,t){e=e||0,t=t||0,this._resizeStart(),this._resizeMove(0,0),this._resizeMove(4-e,-t),this._resizeEnd()}},{key:"_getDraggedChildIndex",value:function(e){for(var t=0;t<this.dom.childNodes.length;t++)if(this.dom.childNodes[t].ui===e)return t;return-1}},{key:"_onChildDragStart",value:function(e,t){this.class.add("pcui-container-dragged-child"),this._draggedStartIndex=this._getDraggedChildIndex(t),t.class.add(E),this._draggedHeight=t.height,this.emit("child:dragstart",t,this._draggedStartIndex)}},{key:"_onChildDragMove",value:function(e,t){var i=this.dom.getBoundingClientRect(),n=e.clientX<i.left||e.clientX>i.right||e.clientY<i.top||e.clientY>i.bottom,s=this._getDraggedChildIndex(t);if(n)return t.class.remove(E),void(this._draggedStartIndex!==s&&(this.remove(t),this._draggedStartIndex<s?this.appendBefore(t,this.dom.childNodes[this._draggedStartIndex]):this.appendAfter(t,this.dom.childNodes[this._draggedStartIndex-1])));t.class.add(E);for(var o=e.clientY-i.top,l=null,a=0;a<this.dom.childNodes.length;a++){var h=this.dom.childNodes[a].ui,u=h.dom.offsetTop;if(a<s){if(o<=u+h.header.height){l=a;break}}else if(a>s&&o+t.height>=u+h.height){l=a;break}}null!==l&&s!==l&&(this.remove(t),l<s?this.appendBefore(t,this.dom.childNodes[l]):this.appendAfter(t,this.dom.childNodes[l-1]))}},{key:"_onChildDragEnd",value:function(e,t){this.class.remove("pcui-container-dragged-child"),t.class.remove(E);var i=this._getDraggedChildIndex(t);this.emit("child:dragend",t,i,this._draggedStartIndex),this._draggedStartIndex=-1}},{key:"forEachChild",value:function(e){for(var t=0;t<this.dom.childNodes.length;t++){var i=this.dom.childNodes[t].ui;if(i)if(!1===e(i))break}}},{key:"_buildDomNode",value:function(e){var t,i=this,n=Object.keys(e);return n.includes("root")?(t=this._buildDomNode(e.root),e.children.forEach((function(e){var n=i._buildDomNode(e);null!==n&&t.append(n)}))):(t=e[n[0]],this["_".concat(n[0])]=t),t}},{key:"buildDom",value:function(e){var t=this;e.forEach((function(e){var i=t._buildDomNode(e);t.append(i)}))}},{key:"destroy",value:function(){this._destroyed||(this.domContent=null,this._domResizeHandle&&(this._domResizeHandle.removeEventListener("mousedown",this._domEventResizeStart),window.removeEventListener("mousemove",this._domEventResizeMove),window.removeEventListener("mouseup",this._domEventResizeEnd),this._domResizeHandle.removeEventListener("touchstart",this._domEventResizeTouchStart),window.removeEventListener("touchmove",this._domEventResizeTouchMove),window.removeEventListener("touchend",this._domEventResizeTouchEnd)),this._domResizeHandle=null,this._domEventResizeStart=null,this._domEventResizeMove=null,this._domEventResizeEnd=null,this._domEventResizeTouchStart=null,this._domEventResizeTouchMove=null,this._domEventResizeTouchEnd=null,this._domEventScroll=null,b(a(i.prototype),"destroy",this).call(this))}},{key:"flex",get:function(){return this._flex},set:function(e){e!==this._flex&&(this._flex=e,e?this.classAdd("pcui-flex"):this.classRemove("pcui-flex"))}},{key:"grid",get:function(){return this._grid},set:function(e){e!==this._grid&&(this._grid=e,e?this.classAdd("pcui-grid"):this.classRemove("pcui-grid"))}},{key:"scrollable",get:function(){return this._scrollable},set:function(e){this._scrollable!==e&&(this._scrollable=e,e?this.classAdd("pcui-scrollable"):this.classRemove("pcui-scrollable"))}},{key:"resizable",get:function(){return this._resizable},set:function(e){e!==this._resizable&&(-1!==k.indexOf(e)?(this._resizable&&this.classRemove("".concat("pcui-resizable","-").concat(this._resizable)),this._resizable=e,this._resizeHorizontally="right"===e||"left"===e,e?(this.classAdd("pcui-resizable"),this.classAdd("".concat("pcui-resizable","-").concat(e)),this._domResizeHandle||this._createResizeHandle(),this._dom.appendChild(this._domResizeHandle)):(this.classRemove("pcui-resizable"),this._domResizeHandle&&this._dom.removeChild(this._domResizeHandle))):console.error("Invalid resizable value: must be one of "+k.join(",")))}},{key:"resizeMin",get:function(){return this._resizeMin},set:function(e){this._resizeMin=Math.max(0,Math.min(e,this._resizeMax))}},{key:"resizeMax",get:function(){return this._resizeMax},set:function(e){this._resizeMax=Math.max(this._resizeMin,e)}},{key:"domContent",get:function(){return this._domContent},set:function(e){this._domContent!==e&&(this._domContent&&this._domContent.removeEventListener("scroll",this._domEventScroll),this._domContent=e,this._domContent&&this._domContent.addEventListener("scroll",this._domEventScroll))}}]),i}(y),C=w,x=function(e){_(i,e);var t=d(i);function i(e){var s;n(this,i),e||(e={}),(s=t.call(this,document.createElement("div"),e)).class.add("pcui-text-input");var o=e.input;return o||((o=document.createElement("input")).ui=l(s),o.type="text",o.tabIndex=0),s._domInput=o,s._domEvtChange=s._onInputChange.bind(l(s)),s._domEvtFocus=s._onInputFocus.bind(l(s)),s._domEvtBlur=s._onInputBlur.bind(l(s)),s._domEvtKeyDown=s._onInputKeyDown.bind(l(s)),s._domEvtKeyUp=s._onInputKeyUp.bind(l(s)),s._domEvtCtxMenu=s._onInputCtxMenu.bind(l(s)),s._domInput.addEventListener("change",s._domEvtChange),s._domInput.addEventListener("focus",s._domEvtFocus),s._domInput.addEventListener("blur",s._domEvtBlur),s._domInput.addEventListener("keydown",s._domEvtKeyDown),s._domInput.addEventListener("contextmenu",s._domEvtCtxMenu,!1),s.dom.appendChild(s._domInput),s._suspendInputChangeEvt=!1,void 0!==e.value&&(s.value=e.value),s.placeholder=e.placeholder||null,s.renderChanges=e.renderChanges||!1,s.blurOnEnter=void 0===e.blurOnEnter||e.blurOnEnter,s.blurOnEscape=void 0===e.blurOnEscape||e.blurOnEscape,s.keyChange=e.keyChange||!1,e.onValidate&&(s.onValidate=e.onValidate),s.on("change",(function(){s.renderChanges&&s.flash()})),s.on("disable",s._updateInputReadOnly.bind(l(s))),s.on("enable",s._updateInputReadOnly.bind(l(s))),s.on("readOnly",s._updateInputReadOnly.bind(l(s))),s._updateInputReadOnly(),s}return o(i,[{key:"_onInputChange",value:function(e){if(!this._suspendInputChangeEvt){if(this._onValidate){var t=!this._onValidate(this.value);if(this.error=t,t)return}else this.error=!1;this.emit("change",this.value),this._binding&&this._binding.setValue(this.value)}}},{key:"_onInputFocus",value:function(e){this.class.add("pcui-focus"),this.emit("focus",e)}},{key:"_onInputBlur",value:function(e){this.class.remove("pcui-focus"),this.emit("blur",e)}},{key:"_onInputKeyDown",value:function(e){(27===e.keyCode&&this.blurOnEscape||13===e.keyCode&&this.blurOnEnter)&&this._domInput.blur(),this.emit("keydown",e)}},{key:"_onInputKeyUp",value:function(e){this._onInputChange(e),this.emit("keyup",e)}},{key:"_onInputCtxMenu",value:function(e){this._domInput.select()}},{key:"_updateInputReadOnly",value:function(){!this.enabled||this.readOnly?this._domInput.setAttribute("readonly",!0):this._domInput.removeAttribute("readonly")}},{key:"_updateValue",value:function(e){return this.class.remove("pcui-multiple-values"),e!==this.value&&(this._suspendInputChangeEvt=!0,this._domInput.value=null===e||void 0===e?"":e,this._suspendInputChangeEvt=!1,this.emit("change",e),!0)}},{key:"focus",value:function(e){this._domInput.focus(),e&&this._domInput.select()}},{key:"blur",value:function(){this._domInput.blur()}},{key:"destroy",value:function(){this._destroyed||(this._domInput.removeEventListener("change",this._domEvtChange),this._domInput.removeEventListener("focus",this._domEvtFocus),this._domInput.removeEventListener("blur",this._domEvtBlur),this._domInput.removeEventListener("keydown",this._domEvtKeyDown),this._domInput.removeEventListener("keyup",this._domEvtKeyUp),this._domInput.removeEventListener("contextmenu",this._domEvtCtxMenu),this._domInput=null,b(a(i.prototype),"destroy",this).call(this))}},{key:"value",get:function(){return this._domInput.value},set:function(e){var t=this._updateValue(e);t&&(this.error=!1),t&&this._binding&&this._binding.setValue(e)}},{key:"values",set:function(e){for(var t=!1,i=e[0],n=1;n<e.length;n++)if(e[n]!==i){t=!0;break}t?(this._updateValue(null),this.class.add("pcui-multiple-values")):this._updateValue(e[0])}},{key:"placeholder",get:function(){return this.dom.getAttribute("placeholder")},set:function(e){e?this.dom.setAttribute("placeholder",e):this.dom.removeAttribute("placeholder")}},{key:"keyChange",get:function(){return this._keyChange},set:function(e){this._keyChange!==e&&(this._keyChange=e,e?this._domInput.addEventListener("keyup",this._domEvtKeyUp):this._domInput.removeEventListener("keyup",this._domEvtKeyUp))}},{key:"input",get:function(){return this._domInput}},{key:"onValidate",get:function(){return this._onValidate},set:function(e){this._onValidate=e}}]),i}(y),I=function(e){_(i,e);var t=d(i);function i(e){var s;return n(this,i),e||(e={}),(s=t.call(this,document.createElement("button"),e)).class.add("pcui-button"),s._unsafe=e.unsafe||!1,s.text=e.text||"",s.size=e.size||null,s.icon=e.icon||"",s._domEventKeyDown=s._onKeyDown.bind(l(s)),s.dom.addEventListener("keydown",s._onKeyDown.bind(l(s))),s}return o(i,[{key:"_onKeyDown",value:function(e){27===e.keyCode?this.blur():13===e.keyCode&&this._onClick(e)}},{key:"_onClick",value:function(e){this.blur(),this.readOnly||b(a(i.prototype),"_onClick",this).call(this,e)}},{key:"focus",value:function(){this.dom.focus()}},{key:"blur",value:function(){this.dom.blur()}},{key:"destroy",value:function(){this._destroyed||(this.dom.removeEventListener("keydown",this._domEventKeyDown),b(a(i.prototype),"destroy",this).call(this))}},{key:"text",get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e,this._unsafe?this.dom.innerHTML=e:this.dom.textContent=e)}},{key:"icon",get:function(){return this._icon},set:function(e){this._icon!==e&&(this._icon=e,e?this.dom.setAttribute("data-icon",String.fromCodePoint(parseInt(e,16))):this.dom.removeAttribute("data-icon"))}},{key:"size",get:function(){return this._size},set:function(e){this._size!==e&&(this._size&&(this.class.remove("pcui-"+this._size),this._size=null),this._size=e,this._size&&this.class.add("pcui-"+this._size))}}]),i}(y),z=I,T=function(e){_(i,e);var t=d(i);function i(e){var s;return n(this,i),e||(e={}),(s=t.call(this,document.createElement("span"),e)).class.add("pcui-label"),s._unsafe=e.unsafe||!1,s.text=e.text||e.value||"",e.allowTextSelection&&s.class.add("pcui-default-mousedown"),e.nativeTooltip&&(s.dom.title=s.text),s.placeholder=e.placeholder||null,s.renderChanges=e.renderChanges||!1,s.on("change",(function(){s.renderChanges&&s.flash()})),s}return o(i,[{key:"_updateText",value:function(e){return this.class.remove("pcui-multiple-values"),this._text!==e&&(this._text=e,this._unsafe?this._dom.innerHTML=e:this._dom.textContent=e,this.emit("change",e),!0)}},{key:"text",get:function(){return this._text},set:function(e){void 0!==e&&null!==e||(e=""),this._updateText(e)&&this._binding&&this._binding.setValue(e)}},{key:"value",get:function(){return this.text},set:function(e){this.text=e}},{key:"values",set:function(e){for(var t=!1,i=e[0],n=1;n<e.length;n++)if(e[n]!==i){t=!0;break}t?(this._updateText(""),this.class.add("pcui-multiple-values")):this._updateText(e[0])}},{key:"placeholder",get:function(){return this.dom.getAttribute("placeholder")},set:function(e){e?this.dom.setAttribute("placeholder",e):this.dom.removeAttribute("placeholder")}}]),i}(y),M=T,O=function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;if(e===t)return 0;var i,n,s=[];for(i=0;i<=t.length;i++)s[i]=[i];for(n=0;n<=e.length;n++)s[0][n]=n;for(i=1;i<=t.length;i++)for(n=1;n<=e.length;n++)t.charAt(i-1)===e.charAt(n-1)?s[i][n]=s[i-1][n-1]:s[i][n]=Math.min(s[i-1][n-1]+1,Math.min(s[i][n-1]+1,s[i-1][n]+1));return s[t.length][e.length]},D=function(e,t){if(e===t)return e.length;var i,n=0,s={};for(i=0;i<t.length;i++)s[t.charAt(i)]=!0;for(i=0;i<e.length;i++)s[e.charAt(i)]&&n++;return n},R=function(e){for(var t=[],i=e.replace(/([^A-Z])([A-Z][^A-Z])/g,"$1 $2").replace(/([A-Z0-9]{2,})/g," $1").split(/(\s|\-|_)/g),n=0;n<i.length;n++)i[n]=i[n].toLowerCase().trim(),i[n]&&"-"!==i[n]&&"_"!==i[n]&&t.push(i[n]);return t},S=function(e,t,i){for(var n=[],s=0;s<e.length;s++){var o=e[s];if(o.subFull===1/0)if(o.name!==t&&0!==o.name.indexOf(t)){if(!(D(t,o.name)/t.length<i.containsCharsTolerance)){for(var l=1/0,a=1/0,h=0;h<o.tokens.length;h++){if(o.tokens[h]===t){l=0,a=h;break}var u=O(t,o.tokens[h]);(a===1/0||u<l)&&-1!==o.tokens[h].indexOf(t)?(a=h,l=u):a===1/0&&u<l&&u/Math.max(t.length,o.tokens[h].length)<=i.editsDistanceTolerance&&(l=u)}l!==1/0&&(n.push(o),o.edits=o.edits===1/0?l:o.edits+l,o.sub=o.sub===1/0?a:o.sub+a)}}else n.push(o),o.edits===1/0&&(o.edits=0),o.sub===1/0&&(o.sub=0);else n.push(o),o.edits===1/0&&(o.edits=0),o.sub===1/0&&(o.sub=o.subFull)}return n},L=function(e){_(i,e);var t=d(i);function i(e){var s;n(this,i),e||(e={});var o=new C;return(s=t.call(this,o.dom,e))._container=o,s._container.parent=l(s),s.class.add("pcui-select-input"),s._containerValue=new C({class:"pcui-select-input-container-value"}),s._container.append(s._containerValue),s._domShadow=document.createElement("div"),s._domShadow.classList.add("pcui-select-input-shadow"),s._containerValue.append(s._domShadow),s._allowInput=e.allowInput||!1,s._allowInput&&s.class.add("pcui-select-input-allow-input"),s._allowCreate=e.allowCreate||!1,s._createFn=e.createFn,s._createLabelText=e.createLabelText||null,s._labelValue=new M({class:"pcui-select-input-value",tabIndex:0}),s._labelValue.on("click",s._onValueClick.bind(l(s))),s._containerValue.append(s._labelValue),s._timeoutLabelValueTabIndex=null,s._labelIcon=new M({class:"pcui-select-input-icon",hidden:e.allowInput&&e.multiSelect}),s._containerValue.append(s._labelIcon),s._input=new x({class:"pcui-select-input-textinput",blurOnEnter:!1,keyChange:!0}),s._containerValue.append(s._input),s._lastInputValue="",s._suspendInputChange=!1,s._input.on("change",s._onInputChange.bind(l(s))),s._input.on("keydown",s._onInputKeyDown.bind(l(s))),s._input.on("focus",s._onFocus.bind(l(s))),s._input.on("blur",s._onBlur.bind(l(s))),e.placeholder&&(s.placeholder=e.placeholder),s._containerOptions=new C({class:"pcui-select-input-list",hidden:!0}),s._containerValue.append(s._containerOptions),s._containerTags=new C({class:"pcui-select-input-tags",flex:!0,flexDirection:"row",hidden:!0}),s._container.append(s._containerTags),e.multiSelect&&(s.class.add("pcui-select-input-multi"),s._containerTags.hidden=!1),s._domEvtKeyDown=s._onKeyDown.bind(l(s)),s._domEvtFocus=s._onFocus.bind(l(s)),s._domEvtBlur=s._onBlur.bind(l(s)),s._domEvtMouseDown=s._onMouseDown.bind(l(s)),s._domEvtWindowMouseDown=s._onWindowMouseDown.bind(l(s)),s._domEvtWheel=s._onWheel.bind(l(s)),s._labelValue.dom.addEventListener("keydown",s._domEvtKeyDown),s._labelValue.dom.addEventListener("focus",s._domEvtFocus),s._labelValue.dom.addEventListener("blur",s._domEvtBlur),s._labelValue.dom.addEventListener("mousedown",s._domEvtMouseDown),s._containerOptions.dom.addEventListener("wheel",s._domEvtWheel,{passive:!0}),s.on("hide",s.close.bind(l(s))),s._type=e.type||"string",s._optionsIndex={},s._labelsIndex={},s._labelHighlighted=null,s.invalidOptions=e.invalidOptions,s.options=e.options||[],s._optionsFn=e.optionsFn,s._allowNull=e.allowNull||!1,s._values=null,void 0!==e.value?s.value=e.value:e.defaultValue?s.value=e.defaultValue:s.value=null,s.renderChanges=e.renderChanges||!1,s.on("change",(function(){s._updateInputFieldsVisibility(),s.renderChanges&&!s.multiSelect&&s._labelValue.flash()})),s._updateInputFieldsVisibility(!1),s}return o(i,[{key:"_initializeCreateLabel",value:function(){var e=this,t=new C({class:"pcui-select-input-create-new",flex:!0,flexDirection:"row"}),i=new M({text:this._input.value,tabIndex:-1});t.append(i);var n=this._input.on("change",(function(n){i.destroyed||(i.text=n,e.invalidOptions&&-1!==e.invalidOptions.indexOf(n)?t.hidden||(t.hidden=!0,e._resizeShadow()):t.hidden&&(t.hidden=!1,e._resizeShadow()))}));t.on("click",(function(t){t.stopPropagation();var n=i.text;e.focus(),e.close(),e._createFn?e._createFn(n):n&&e._onSelectValue(n)})),i.on("destroy",(function(){n.unbind(),n=null}));var s=new M({text:this._createLabelText});t.append(s),this._containerOptions.append(t)}},{key:"_convertSingleValue",value:function(e){if(null===e&&this._allowNull)return e;if("string"===this._type)e=e?e.toString():"";else if("number"===this._type)e=e?parseInt(e,10):0;else if("boolean"===this._type)return!!e;return e}},{key:"_convertValue",value:function(e){var t=this;return null===e&&this._allowNull?e:this.multiSelect?Array.isArray(e)?e.map((function(e){return t._convertSingleValue(e)})):e:this._convertSingleValue(e)}},{key:"_onValueClick",value:function(){this.enabled&&!this.readOnly&&this.toggle()}},{key:"_onSelectValue",value:function(e){if(e=this._convertSingleValue(e),this.multiSelect)if(this._values){var t=!1;this._values.forEach((function(i){i?-1===i.indexOf(e)&&(i.push(e),t=!0):(i=[e],t=!0)})),t&&(this._onMultipleValuesChange(this._values),this.emit("change",this.value),this._binding&&this._binding.addValues([e]))}else this._value&&Array.isArray(this._value)?-1===this._value.indexOf(e)&&(this._value.push(e),this._addTag(e),this.emit("change",this.value),this._binding&&this._binding.addValues([e])):this.value=[e];else this.value=e}},{key:"_highlightLabel",value:function(e){if(this._labelHighlighted!==e&&(this._labelHighlighted&&this._labelHighlighted.class.remove("pcui-select-input-label-highlighted"),this._labelHighlighted=e,this._labelHighlighted)){this._labelHighlighted.class.add("pcui-select-input-label-highlighted");var t=this._labelHighlighted.dom.offsetTop,i=this._containerOptions.dom.scrollTop;t<i?this._containerOptions.dom.scrollTop=t:t+this._labelHighlighted.height>this._containerOptions.height+i&&(this._containerOptions.dom.scrollTop=t+this._labelHighlighted.height-this._containerOptions.height)}}},{key:"_onValueChange",value:function(e){var t=this;if(this.multiSelect){if(this._labelValue.value="",this._containerTags.clear(),this._containerTags.class.add("pcui-select-input-tags-empty"),e&&Array.isArray(e))for(var i in e.forEach((function(e){t._addTag(e),t._labelsIndex[e]&&t._labelsIndex[e].class.add("pcui-selected")})),this._labelsIndex)-1!==e.indexOf(this._convertSingleValue(i))?this._labelsIndex[i].class.add("pcui-selected"):this._labelsIndex[i].class.remove("pcui-selected")}else for(var n in this._labelValue.value=this._optionsIndex[e]||"",e=""+e,this._labelsIndex)n===e?this._labelsIndex[n].class.add("pcui-selected"):this._labelsIndex[n].class.remove("pcui-selected")}},{key:"_onMultipleValuesChange",value:function(e){var t=this;this._labelValue.value="",this._containerTags.clear(),this._containerTags.class.add("pcui-select-input-tags-empty");var i={},n={};for(var s in e.forEach((function(e){e&&e.forEach((function(e){i[e]?n[e]++:(i[e]=t._addTag(e),n[e]=1)}))})),n)n[s]!==e.length&&(i[s].class.add("pcui-select-input-tag-not-everywhere"),this._labelsIndex[s]&&this._labelsIndex[s].class.remove("pcui-selected"))}},{key:"_addTag",value:function(e){var t=this,i=new C({flex:!0,flexDirection:"row",class:"pcui-select-input-tag"});i.append(new M({text:this._optionsIndex[e]||e}));var n=new z({size:"small",icon:"E132",tabIndex:-1});return i.append(n),n.on("click",(function(){return t._removeTag(i,e)})),this._containerTags.append(i),this._containerTags.class.remove("pcui-select-input-tags-empty"),this._labelsIndex[e]&&this._labelsIndex[e].class.add("pcui-selected"),i.value=e,i}},{key:"_removeTag",value:function(e,t){if(e.destroy(),this._labelsIndex[t]&&this._labelsIndex[t].class.remove("pcui-selected"),this._values)this._values.forEach((function(e){if(e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}}));else if(this._value&&Array.isArray(this._value)){var i=this._value.indexOf(t);-1!==i&&this._value.splice(i,1)}this.emit("change",this.value),this._binding&&this._binding.removeValues([t])}},{key:"_onInputChange",value:function(e){this._suspendInputChange||this._lastInputValue!==e&&(this.open(),this._lastInputValue=e,this._filterOptions(e))}},{key:"_filterOptions",value:function(e){var t=this,i={};e&&function(e,t,i){if(!(t=(t||"").toLowerCase().trim()))return[];var n=R(t);if(!n.length)return[];(i=i||{}).containsCharsTolerance=i.containsCharsTolerance||.5,i.editsDistanceTolerance=i.editsDistanceTolerance||.5;for(var s=[],o=0;o<e.length;o++){var l=e[o][0].toLowerCase().trim().indexOf(t);s.push({name:e[o][0],item:e[o][1],tokens:R(e[o][0]),edits:1/0,subFull:-1!==l?l:1/0,sub:1/0})}for(o=0;o<n.length;o++)s=S(s,n[o],i);s.sort((function(e,t){return e.subFull!==t.subFull?e.subFull-t.subFull:e.sub!==t.sub?e.sub-t.sub:e.edits!==t.edits?e.edits-t.edits:e.name.length-t.name.length}));for(o=0;o<s.length;o++)s[o]=s[o].item;return i.hasOwnProperty("limitResults")&&s.length>i.limitResults&&(s=s.slice(0,i.limitResults)),s}(this.options.map((function(e){return[e.t,e.v]})),e).forEach((function(e){i[e]=!0}));var n=!1;this._containerOptions.forEachChild((function(s){s.hidden=!!e&&!i[s._optionValue]&&!s.class.contains("pcui-select-input-create-new"),n||s.hidden||(t._highlightLabel(s),n=!0)})),this._resizeShadow()}},{key:"_onInputKeyDown",value:function(e){var t;if(13===e.keyCode&&this.enabled&&!this.readOnly&&(e.stopPropagation(),e.preventDefault(),void 0!==(t=this._labelHighlighted&&void 0!==this._labelHighlighted._optionValue?this._labelHighlighted._optionValue:this._input.value)))return this.focus(),this.close(),void(this._optionsIndex[t]?this._onSelectValue(t):this._allowCreate&&(this._createFn?this._createFn(t):this._onSelectValue(t)));this._onKeyDown(e)}},{key:"_onWindowMouseDown",value:function(e){this.dom.contains(e.target)||this.close()}},{key:"_onKeyDown",value:function(e){if(27!==e.keyCode)if(9!==e.keyCode){if(this.enabled&&!this.readOnly)if(13!==e.keyCode||this._allowInput){if(-1!==[38,40].indexOf(e.keyCode))if(e.stopPropagation(),e.preventDefault(),(this._allowInput||this.multiSelect)&&this._containerOptions.hidden)this.open();else if(this._containerOptions.hidden){if(!this._options.length)return;for(var t=-1,i=0;i<this._options.length;i++)if(this._options[i].v===this.value){t=i;break}38===e.keyCode?t--:40===e.keyCode&&t++,t>=0&&t<this._options.length&&this._onSelectValue(this._options[t].v)}else{if(!this._containerOptions.dom.childNodes.length)return;if(this._labelHighlighted){var n=this._labelHighlighted.dom;do{38===e.keyCode?n=n.previousSibling:40===e.keyCode&&(n=n.nextSibling)}while(n&&n.ui.hidden);n&&this._highlightLabel(n.ui)}else this._highlightLabel(this._containerOptions.dom.childNodes[0].ui)}}else this._labelHighlighted&&void 0!==this._labelHighlighted._optionValue&&(this._onSelectValue(this._labelHighlighted._optionValue),this.close())}else this.close();else this.close()}},{key:"_resizeShadow",value:function(){this._domShadow.style.height=this._containerValue.height+this._containerOptions.height+"px"}},{key:"_onMouseDown",value:function(){this._allowInput||this.focus()}},{key:"_onFocus",value:function(){this.class.add("pcui-focus"),this.emit("focus"),this._input.hidden||this.open()}},{key:"_onBlur",value:function(){this.class.remove("pcui-focus"),this.emit("blur")}},{key:"_onWheel",value:function(e){e.stopPropagation()}},{key:"_updateInputFieldsVisibility",value:function(e){var t=this,i=!1,n=!1;this._allowInput&&(e?(i=!0,n=!0):i=this.multiSelect||!this._labelsIndex[this.value]),this._labelValue.hidden=i,this._labelIcon.hidden=i,this._input.hidden=!i,n&&this._input.focus(),this._labelValue.hidden||(this._labelValue.tabIndex=-1,this._timeoutLabelValueTabIndex||(this._timeoutLabelValueTabIndex=requestAnimationFrame((function(){t._timeoutLabelValueTabIndex=null,t._labelValue.tabIndex=0}))))}},{key:"focus",value:function(){this._input.hidden?this._labelValue.dom.focus():this._input.focus()}},{key:"blur",value:function(){this._allowInput?this._input.blur():this._labelValue.dom.blur()}},{key:"open",value:function(){var e=this;if(this._containerOptions.hidden&&this.enabled&&!this.readOnly&&(this._updateInputFieldsVisibility(!0),this._optionsFn&&(this.options=this._optionsFn()),0!==this._containerOptions.dom.childNodes.length)){this._containerOptions.forEachChild((function(t){t.hidden=!1,t._optionValue===e.value&&e._highlightLabel(t)})),this._labelHighlighted||this._highlightLabel(this._containerOptions.dom.childNodes[0].ui),this._containerOptions.hidden=!1,this.class.add("pcui-open"),window.addEventListener("keydown",this._domEvtKeyDown),window.addEventListener("mousedown",this._domEvtWindowMouseDown);var t=(this._allowInput?this._input.dom:this._labelValue.dom).getBoundingClientRect(),i=t.bottom+this._containerOptions.height+25>=window.innerHeight;i&&t.top-this._containerOptions.height<0&&(i=!1,this._containerOptions.style.maxHeight=window.innerHeight-t.bottom-25+"px"),i?this.class.add("pcui-select-input-fit-height"):this.class.remove("pcui-select-input-fit-height"),this._resizeShadow()}}},{key:"close",value:function(){this._containerOptions.style.maxHeight="",this._highlightLabel(null),this._updateInputFieldsVisibility(!1),this._suspendInputChange=!0,this._input.value="",this._lastInputValue="",this._suspendInputChange=!1,this._containerOptions.hidden||(this._containerOptions.hidden=!0,this._domShadow.style.height="",this.class.remove("pcui-open"),window.removeEventListener("keydown",this._domEvtKeyDown),window.removeEventListener("mousedown",this._domEvtWindowMouseDown))}},{key:"toggle",value:function(){this._containerOptions.hidden?this.open():this.close()}},{key:"unlink",value:function(){b(a(i.prototype),"unlink",this).call(this),this._containerOptions.hidden||this.close()}},{key:"destroy",value:function(){this._destroyed||(this._labelValue.dom.removeEventListener("keydown",this._domEvtKeyDown),this._labelValue.dom.removeEventListener("mousedown",this._domEvtMouseDown),this._labelValue.dom.removeEventListener("focus",this._domEvtFocus),this._labelValue.dom.removeEventListener("blur",this._domEvtBlur),this._containerOptions.dom.removeEventListener("wheel",this._domEvtWheel),window.removeEventListener("keydown",this._domEvtKeyDown),window.removeEventListener("mousedown",this._domEvtWindowMouseDown),this._timeoutLabelValueTabIndex&&(cancelAnimationFrame(this._timeoutLabelValueTabIndex),this._timeoutLabelValueTabIndex=null),b(a(i.prototype),"destroy",this).call(this))}},{key:"options",get:function(){return this._options.slice()},set:function(e){var t=this;this._options&&this._options===e||(this._containerOptions.clear(),this._labelHighlighted=null,this._optionsIndex={},this._labelsIndex={},this._options=e,this._options.forEach((function(e){if(t._optionsIndex[e.v]=e.t,""!==e.v){var i=new M({text:e.t,tabIndex:-1});i._optionValue=e.v,t._labelsIndex[e.v]=i,i.on("click",(function(i){i.stopPropagation(),t._onSelectValue(e.v),t.close()})),t._containerOptions.append(i)}})),this._createLabelText&&this._initializeCreateLabel(),this.multiSelect&&this._values?this._onMultipleValuesChange(this._values):this._onValueChange(this.value),this._lastInputValue&&this._filterOptions(this._lastInputValue))}},{key:"invalidOptions",get:function(){return this._invalidOptions},set:function(e){this._invalidOptions=e||null}},{key:"multiSelect",get:function(){return this.class.contains("pcui-select-input-multi")}},{key:"value",get:function(){if(!this.multiSelect)return this._value;var e=[];return this._containerTags.dom.childNodes.forEach((function(t){e.push(t.ui.value)})),e},set:function(e){this._values=null,this._suspendInputChange=!0,this._input.value="",this._lastInputValue="",this._suspendInputChange=!1,this.class.remove("pcui-multiple-values"),e=this._convertValue(e),(!(this._value===e||this.multiSelect&&this._value&&this._value.equals(e))||null===e&&this._allowNull&&this.class.contains("pcui-multiple-values"))&&(this._value=e,this._onValueChange(e),this.emit("change",e),this._binding&&this._binding.setValue(e))}},{key:"values",set:function(e){var t=!1,i=(e=e.map(this._convertValue.bind(this)))[0],n=this.multiSelect;this._values=null;for(var s=1;s<e.length;s++)if(e[s]!==i&&(!n||!e[s]||!e[s].equals(i))){t=!0;break}t?(this._labelValue.values=e,n?(this._values=e,this._value=null,this._onMultipleValuesChange(this._values),this.emit("change",this.value)):null!==this._value&&(this._value=null,this.emit("change",null)),this.class.add("pcui-multiple-values")):this.value=e[0]}},{key:"placeholder",get:function(){return this._input.placeholder},set:function(e){this._input.placeholder=e}}]),i}(y),V=function(e){_(i,e);var t=d(i);function i(e){var s;return n(this,i),e=Object.assign({tabIndex:0},e),s=t.call(this,document.createElement("div"),e),"toggle"===e.type?s.class.add("pcui-boolean-input-toggle"):s.class.add("pcui-boolean-input"),s.class.add("pcui-not-flexible"),s._domEventKeyDown=s._onKeyDown.bind(l(s)),s._domEventFocus=s._onFocus.bind(l(s)),s._domEventBlur=s._onBlur.bind(l(s)),s.dom.addEventListener("keydown",s._domEventKeyDown),s.dom.addEventListener("focus",s._domEventFocus),s.dom.addEventListener("blur",s._domEventBlur),s._value=null,void 0!==e.value&&(s.value=e.value),s.renderChanges=e.renderChanges,s}return o(i,[{key:"_onClick",value:function(e){return this.enabled&&this.focus(),this.enabled&&!this.readOnly&&(this.value=!this.value),b(a(i.prototype),"_onClick",this).call(this,e)}},{key:"_onKeyDown",value:function(e){27!==e.keyCode?this.enabled&&!this.readOnly&&32===e.keyCode&&(e.stopPropagation(),e.preventDefault(),this.value=!this.value):this.blur()}},{key:"_onFocus",value:function(){this.emit("focus")}},{key:"_onBlur",value:function(){this.emit("blur")}},{key:"_updateValue",value:function(e){return this.class.remove("pcui-multiple-values"),e!==this.value&&(this._value=e,e?this.class.add("pcui-boolean-input-ticked"):this.class.remove("pcui-boolean-input-ticked"),this.renderChanges&&this.flash(),this.emit("change",e),!0)}},{key:"focus",value:function(){this.dom.focus()}},{key:"blur",value:function(){this.dom.blur()}},{key:"destroy",value:function(){this._destroyed||(this.dom.removeEventListener("keydown",this._domEventKeyDown),this.dom.removeEventListener("focus",this._domEventFocus),this.dom.removeEventListener("blur",this._domEventBlur),b(a(i.prototype),"destroy",this).call(this))}},{key:"value",get:function(){return this._value},set:function(e){this._updateValue(e)&&this._binding&&this._binding.setValue(e)}},{key:"values",set:function(e){for(var t=!1,i=e[0],n=1;n<e.length;n++)if(e[n]!==i){t=!0;break}t?(this._updateValue(null),this.class.add("pcui-multiple-values")):this._updateValue(e[0])}}]),i}(y),H=function(e){_(i,e);var t=d(i);function i(e){var s;n(this,i);var o=(e=Object.assign({},e)).value;delete e.value;var l=e.renderChanges||!1;return delete e.renderChanges,(s=t.call(this,e)).class.add("pcui-numeric-input"),s._min=void 0!==e.min?e.min:null,s._max=void 0!==e.max?e.max:null,s._allowNull=e.allowNull||!1,s._precision=void 0!==e.precision?e.precision:null,void 0!==e.step?s._step=e.step:null!==s._precision?s._step=1/Math.pow(10,s._precision):s._step=1,s._oldValue=void 0,s.value=o,s.renderChanges=l,s}return o(i,[{key:"_onInputChange",value:function(e){this.value=this._domInput.value}},{key:"_onInputKeyDown",value:function(e){if(!this.enabled||this.readOnly)return b(a(i.prototype),"_onInputKeyDown",this).call(this,e);if(38!==e.keyCode&&40!==e.keyCode)b(a(i.prototype),"_onInputKeyDown",this).call(this,e);else{var t=(e.shiftKey?10:1)*(40===e.keyCode?-1:1);this.value=this.value+this.step*t}}},{key:"_normalizeValue",value:function(e){return void 0===e&&(e=null),e=parseFloat(e,10),isNaN(e)?e=this._allowNull?null:0:(null!==this.min&&e<this.min&&(e=this.min),null!==this.max&&e>this.max&&(e=this.max),null!==this.precision&&(e=parseFloat(e.toFixed(this.precision),10))),e}},{key:"_updateValue",value:function(e,t){var i=e!==this._oldValue||t;return this._oldValue=e,this._domInput.value=e,this.class.remove("pcui-multiple-values"),i&&this.emit("change",e),i}},{key:"value",get:function(){var e=b(a(i.prototype),"value",this);return""!==e?parseFloat(e,10):null},set:function(e){e=this._normalizeValue(e);var t=this.class.contains("pcui-multiple-values")&&null===e&&this._allowNull;this._updateValue(e,t)&&this._binding&&this._binding.setValue(e)}},{key:"values",set:function(e){for(var t=!1,i=this._normalizeValue(e[0]),n=1;n<e.length;n++)if(i!==this._normalizeValue(e[n])){t=!0;break}t?(this._updateValue(null),this.class.add("pcui-multiple-values")):this._updateValue(e[0])}},{key:"min",get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,null!==this._min&&(this.value=this.value))}},{key:"max",get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,null!==this._max&&(this.value=this.value))}},{key:"precision",get:function(){return this._precision},set:function(e){this._precision!==e&&(this._precision=e,null!==this._precision&&(this.value=this.value))}},{key:"step",get:function(){return this._step},set:function(e){this._step=e}}]),i}(x),P=["allowNull","max","min","keyChange","placeholder","precision","renderChanges","step"],A=function(e){_(i,e);var t=d(i);function i(e){var s;n(this,i),e=Object.assign({},e);var o={};return P.forEach((function(t){o[t]=e[t]})),void 0===o.precision&&(o.precision=2),delete o.binding,(s=t.call(this,document.createElement("div"),e)).class.add("pcui-slider"),s._combineHistory=!1,s._numericInput=new H(o),s._numericInput.on("change",s._onValueChange.bind(l(s))),s._numericInput.on("focus",(function(){s.emit("focus")})),s._numericInput.on("blur",(function(){s.emit("blur")})),s._sliderMin=void 0!==e.sliderMin?e.sliderMin:s.min||0,s._sliderMax=void 0!==e.sliderMax?e.sliderMax:s.max||1,s.dom.appendChild(s._numericInput.dom),s._numericInput.parent=l(s),s._domSlider=document.createElement("div"),s._domSlider.classList.add("pcui-slider-container"),s.dom.appendChild(s._domSlider),s._domBar=document.createElement("div"),s._domBar.classList.add("pcui-slider-bar"),s._domBar.ui=l(s),s._domSlider.appendChild(s._domBar),s._domHandle=document.createElement("div"),s._domHandle.ui=l(s),s._domHandle.tabIndex=0,s._domHandle.classList.add("pcui-slider-handle"),s._domBar.appendChild(s._domHandle),s._domMouseDown=s._onMouseDown.bind(l(s)),s._domMouseMove=s._onMouseMove.bind(l(s)),s._domMouseUp=s._onMouseUp.bind(l(s)),s._domTouchStart=s._onTouchStart.bind(l(s)),s._domTouchMove=s._onTouchMove.bind(l(s)),s._domTouchEnd=s._onTouchEnd.bind(l(s)),s._domKeyDown=s._onKeyDown.bind(l(s)),s._touchId=null,s._domBar.addEventListener("mousedown",s._domMouseDown),s._domBar.addEventListener("touchstart",s._domTouchStart,{passive:!0}),s._domHandle.addEventListener("keydown",s._domKeyDown),s}return o(i,[{key:"_onMouseDown",value:function(e){0===e.button&&this.enabled&&!this.readOnly&&this._onSlideStart(e.pageX)}},{key:"_onMouseMove",value:function(e){e.stopPropagation(),e.preventDefault(),this._onSlideMove(e.pageX)}},{key:"_onMouseUp",value:function(e){e.stopPropagation(),e.preventDefault(),this._onSlideEnd(e.pageX)}},{key:"_onTouchStart",value:function(e){if(this.enabled&&!this.readOnly)for(var t=0;t<e.changedTouches.length;t++){var i=e.changedTouches[t];if(i.target.ui&&i.target.ui===this){this._touchId=i.identifier,this._onSlideStart(i.pageX);break}}}},{key:"_onTouchMove",value:function(e){for(var t=0;t<e.changedTouches.length;t++){var i=e.changedTouches[t];if(i.identifier===this._touchId){e.stopPropagation(),e.preventDefault(),this._onSlideMove(i.pageX);break}}}},{key:"_onTouchEnd",value:function(e){for(var t=0;t<e.changedTouches.length;t++){var i=e.changedTouches[t];if(i.identifier===this._touchId){e.stopPropagation(),e.preventDefault(),this._onSlideEnd(i.pageX),this._touchId=null;break}}}},{key:"_onKeyDown",value:function(e){if(27!==e.keyCode){if(this.enabled&&!this.readOnly&&(37===e.keyCode||39===e.keyCode)){e.stopPropagation(),e.preventDefault();var t=37===e.keyCode?-1:1;e.shiftKey&&(t*=10),this.value+=t*this.step}}else this.blur()}},{key:"_updateHandle",value:function(e){var t=100*Math.max(0,Math.min(1,((e||0)-this._sliderMin)/(this._sliderMax-this._sliderMin)));this._domHandle.style.left=t+"%"}},{key:"_onValueChange",value:function(e){this._updateHandle(e),this.emit("change",e),this._binding&&this._binding.setValue(e)}},{key:"_onSlideStart",value:function(e){this._domHandle.focus(),null===this._touchId?(window.addEventListener("mousemove",this._domMouseMove),window.addEventListener("mouseup",this._domMouseUp)):(window.addEventListener("touchmove",this._domTouchMove),window.addEventListener("touchend",this._domTouchEnd)),this.class.add("pcui-slider-active"),this._onSlideMove(e),this.binding&&(this._combineHistory=this.binding.historyCombine,this.binding.historyCombine=!0)}},{key:"_onSlideMove",value:function(e){var t=this._domSlider.getBoundingClientRect(),i=Math.max(0,Math.min(1,(e-t.left)/t.width))*(this._sliderMax-this._sliderMin)+this._sliderMin;i=parseFloat(i.toFixed(this.precision),10),this.value=i}},{key:"_onSlideEnd",value:function(e){this._onSlideMove(e),this.class.remove("pcui-slider-active"),null===this._touchId?(window.removeEventListener("mousemove",this._domMouseMove),window.removeEventListener("mouseup",this._domMouseUp)):(window.removeEventListener("touchmove",this._domTouchMove),window.removeEventListener("touchend",this._domTouchEnd)),this.binding&&(this.binding.historyCombine=this._combineHistory)}},{key:"focus",value:function(){this._numericInput.focus()}},{key:"blur",value:function(){this._domHandle.blur(),this._numericInput.blur()}},{key:"destroy",value:function(){this._destroyed||(this._domBar.removeEventListener("mousedown",this._domMouseDown),this._domBar.removeEventListener("touchstart",this._domTouchStart),this._domHandle.removeEventListener("keydown",this._domKeyDown),this.dom.removeEventListener("mouseup",this._domMouseUp),this.dom.removeEventListener("mousemove",this._domMouseMove),this.dom.removeEventListener("touchmove",this._domTouchMove),this.dom.removeEventListener("touchend",this._domTouchEnd),b(a(i.prototype),"destroy",this).call(this))}},{key:"sliderMin",get:function(){return this._sliderMin},set:function(e){this._sliderMin!==e&&(this._sliderMin=e,this._updateHandle(this.value))}},{key:"sliderMax",get:function(){return this._sliderMax},set:function(e){this._sliderMax!==e&&(this._sliderMax=e,this._updateHandle(this.value))}},{key:"value",get:function(){return this._numericInput.value},set:function(e){this._numericInput.value=e,this._numericInput.class.contains("pcui-multiple-values")?this.class.add("pcui-multiple-values"):this.class.remove("pcui-multiple-values")}},{key:"values",set:function(e){this._numericInput.values=e,this._numericInput.class.contains("pcui-multiple-values")?this.class.add("pcui-multiple-values"):this.class.remove("pcui-multiple-values")}}]),i}(y),F=function(e){_(i,e);var t=d(i);function i(e){var s;n(this,i),e||(e={});var o=Object.assign({},e);return o.flex=!0,delete o.grid,delete o.flexDirection,delete o.scrollable,(s=t.call(this,o)).class.add("pcui-panel"),e.panelType&&s.class.add("pcui-panel-"+e.panelType),s._suspendReflow=!0,s._initializeHeader(e),s._initializeContent(e),s.headerSize=void 0!==e.headerSize?e.headerSize:32,s._domEvtDragStart=s._onDragStart.bind(l(s)),s._domEvtDragMove=s._onDragMove.bind(l(s)),s._domEvtDragEnd=s._onDragEnd.bind(l(s)),s._reflowTimeout=null,s._widthBeforeCollapse=null,s._heightBeforeCollapse=null,s.collapsible=e.collapsible||!1,s.collapsed=e.collapsed||!1,s.collapseHorizontally=e.collapseHorizontally||!1,s._iconSort=null,s.sortable=e.sortable||!1,s._btnRemove=null,s.removable=e.removable||!1,s.domContent=s._containerContent.dom,s._suspendReflow=!1,s._reflow(),s}return o(i,[{key:"_initializeHeader",value:function(e){this._containerHeader=new C({flex:!0,flexDirection:"row",class:"pcui-panel-header"}),this._labelTitle=new M({text:e.headerText,class:"pcui-panel-header-title"}),this._containerHeader.append(this._labelTitle),this._containerHeader.dom.addEventListener("click",this._onHeaderClick.bind(this)),this.append(this._containerHeader)}},{key:"_onHeaderClick",value:function(e){this._collapsible&&(e.target!==this.header.dom&&e.target!==this._labelTitle.dom||(this.collapsed=!this.collapsed))}},{key:"_onClickRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.emit("click:remove")}},{key:"_initializeContent",value:function(e){this._containerContent=new C({class:"pcui-panel-content",grid:e.grid,flex:e.flex,flexDirection:e.flexDirection,scrollable:e.scrollable}),this.append(this._containerContent)}},{key:"_reflow",value:function(){var e=this;this._suspendReflow||(this._reflowTimeout&&(cancelAnimationFrame(this._reflowTimeout),this._reflowTimeout=null),!this.hidden&&this.collapsible&&(this.collapsed&&this.collapseHorizontally?this._containerHeader.style.top=-this.headerSize+"px":this._containerHeader.style.top="",this._reflowTimeout=requestAnimationFrame((function(){e._reflowTimeout=null,e.collapsed?(e._widthBeforeCollapse||(e._widthBeforeCollapse=e.style.width),e._heightBeforeCollapse||(e._heightBeforeCollapse=e.style.height),e._collapseHorizontally?(e.height="",e.width=e.headerSize):e.height=e.headerSize,e.class.add("pcui-collapsed")):(e.class.remove("pcui-collapsed"),e._collapseHorizontally?(e.height="",null!==e._widthBeforeCollapse&&(e.width=e._widthBeforeCollapse)):null!==e._heightBeforeCollapse&&(e.height=e._heightBeforeCollapse),e._widthBeforeCollapse=null,e._heightBeforeCollapse=null)}))))}},{key:"_onDragStart",value:function(e){this.disabled||this.readOnly||(e.stopPropagation(),e.preventDefault(),window.addEventListener("mouseup",this._domEvtDragEnd),window.addEventListener("mouseleave",this._domEvtDragEnd),window.addEventListener("mousemove",this._domEvtDragMove),this.emit("dragstart"),this.parent&&this.parent._onChildDragStart&&this.parent._onChildDragStart(e,this))}},{key:"_onDragMove",value:function(e){this.emit("dragmove"),this.parent&&this.parent._onChildDragStart&&this.parent._onChildDragMove(e,this)}},{key:"_onDragEnd",value:function(e){window.removeEventListener("mouseup",this._domEvtDragEnd),window.removeEventListener("mouseleave",this._domEvtDragEnd),window.removeEventListener("mousemove",this._domEvtDragMove),this._draggedChild===this&&(this._draggedChild=null),this.emit("dragend"),this.parent&&this.parent._onChildDragStart&&this.parent._onChildDragEnd(e,this)}},{key:"destroy",value:function(){this._destroyed||(this._reflowTimeout&&(cancelAnimationFrame(this._reflowTimeout),this._reflowTimeout=null),window.removeEventListener("mouseup",this._domEvtDragEnd),window.removeEventListener("mouseleave",this._domEvtDragEnd),window.removeEventListener("mousemove",this._domEvtDragMove),b(a(i.prototype),"destroy",this).call(this))}},{key:"collapsible",get:function(){return this._collapsible},set:function(e){e!==this._collapsible&&(this._collapsible=e,e?this.classAdd("pcui-collapsible"):this.classRemove("pcui-collapsible"),this._reflow(),this.collapsed&&this.emit(e?"collapse":"expand"))}},{key:"collapsed",get:function(){return this._collapsed},set:function(e){this._collapsed!==e&&(this._collapsed=e,this._reflow(),this.collapsible&&this.emit(e?"collapse":"expand"))}},{key:"sortable",get:function(){return this._sortable},set:function(e){this._sortable!==e&&(this._sortable=e,e?(this._iconSort=new M({class:"pcui-panel-sortable-icon"}),this._iconSort.dom.addEventListener("mousedown",this._domEvtDragStart),this.header.prepend(this._iconSort)):this._iconSort&&(this._iconSort.destroy(),this._iconSort=null))}},{key:"removable",get:function(){return!!this._btnRemove},set:function(e){this.removable!==e&&(e?(this._btnRemove=new z({icon:"E289",class:"pcui-panel-remove"}),this._btnRemove.on("click",this._onClickRemove.bind(this)),this.header.append(this._btnRemove)):(this._btnRemove.destroy(),this._btnRemove=null))}},{key:"collapseHorizontally",get:function(){return this._collapseHorizontally},set:function(e){this._collapseHorizontally!==e&&(this._collapseHorizontally=e,e?this.classAdd("pcui-panel-horizontal"):this.classRemove("pcui-panel-horizontal"),this._reflow())}},{key:"content",get:function(){return this._containerContent}},{key:"header",get:function(){return this._containerHeader}},{key:"headerText",get:function(){return this._labelTitle.text},set:function(e){this._labelTitle.text=e}},{key:"headerSize",get:function(){return this._headerSize},set:function(e){this._headerSize=e;var t=this._containerHeader.dom.style;t.height=Math.max(0,e)+"px",t.lineHeight=t.height,this._reflow()}}]),i}(C)}],[[0,1]]]);
//# sourceMappingURL=main.3e3040e1.chunk.js.map